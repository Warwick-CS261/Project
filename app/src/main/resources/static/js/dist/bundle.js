(()=>{"use strict";React.Component;const e=window.React,t=window.ReactDOM,n=window.Cookies,a=window.jQuery;a.ready((()=>{new Date((new Date).getTime()+3e5),n.set("token","test-cookie-remove-before-production",{expires:365})}));class l extends e.Component{constructor(e){super(e),this.state={showLogin:!1,showSignUp:!1,token:null},this.handleLogout=this.handleLogout.bind(this)}handleLogin(){this.setState({showLogin:!0,showSignUp:!1,token:null})}handleSignUp(){history.pushState({route:"/auth"},"","/auth/register"),this.setState({showSignUp:!0})}handleLogout(){this.setState({token:null})}render(){let t=n.get("token");return this.state.showLogin?(console.log("render login"),e.createElement(o,null)):this.state.showSignUp?e.createElement(SignUp,null):void 0===t?e.createElement("div",null,e.createElement("h1",null,"Project CS261","\n","Group 45"),e.createElement("button",{className:"btn btn-primary",onClick:()=>this.handleLogin()},"Log in"),e.createElement("button",{className:"btn btn-primary",onClick:()=>this.handleSignUp()},"Sign up")):(this.setState({token:t}),e.createElement("div",null,e.createElement(i,{token:this.state.token,onLogout:this.handleLogout})))}}e.Component;class s extends e.Component{render(){return e.createElement("h2",null,"Project CS261","\n","Group45")}}class i extends e.Component{render(){return e.createElement("div",null,e.createElement(s,null),e.createElement(r,{token:this.props.token,onLogout:this.props.onLogout}))}}class o extends e.Component{constructor(e){super(e),this.state={email:"",password:"",stay:!1,error:!1},this.handleChange=this.handleChange.bind(this),this.handleCheck=this.handleCheck.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleInvalid=this.handleInvalid.bind(this)}handleChange(e){this.setState({[e.target.name]:e.target.value})}handleCheck(e){this.setState({[e.target.name]:e.target.checked})}handleInvalid(e){e.target.classList.add("invalid")}handleSubmit(e){a.ajax({url:"/auth/login",type:"POST",data:JSON.stringify(this.state),success:e=>{console.log("Token"),console.log(n.get("token"))},error:e=>{}}),e.preventDefault()}render(){return e.createElement("div",null,e.createElement("h1",null,"Login"),!1!==this.state.error&&e.createElement("div",{class:"alert alert-danger",role:"alert"},this.state.error),e.createElement("form",{method:"POST",onSubmit:this.handleSubmit},e.createElement("div",{className:"mb-3"},e.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,onInvalid:this.handleInvalid,className:"form-control",autoFocus:!0,autoComplete:!0,required:!0})),e.createElement("div",{className:"mb-3"},e.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,onInvalid:this.handleInvalid,className:"form-control",autoComplete:!0,required:!0})),e.createElement("div",{className:"mb-3"},e.createElement("input",{type:"checkbox",name:"stay",onChange:this.handleCheck,className:"form-check-input",required:!0})),e.createElement("div",{className:"mb-3"},e.createElement("button",{type:"submit",className:"btn btn-primary"},"Log in"))))}}class r extends e.Component{constructor(e){super(e),this.state={navs:{home:!1,user:!1,sessions:!1,series:!1,logout:!1}},this.handleClick=this.handleClick.bind(this)}handleClick(e){id=e.target.id.substring(4),id==logout&&(n.remove("token"),this.props.onLogout())}render(){return e.createElement("nav",{className:"nav"},e.createElement("ul",null,e.createElement("li",{className:"nav-link nav-home",id:"nav-home",onClick:this.handleClick},e.createElement("i",{className:"bi bi-house-fill"}),e.createElement("span",null,"Home")),e.createElement("li",{className:"nav-link nav-user",id:"nav-user",onClick:this.handleClick},e.createElement("i",{className:"bi bi-person-circle"}),e.createElement("span",null,"User")),e.createElement("li",{className:"nav-link nav-sessions",id:"nav-sessions",onClick:this.handleClick},e.createElement("i",{className:"bi bi-calendar-event-fill"}),e.createElement("span",null,"Session")),e.createElement("li",{className:"nav-link nav-series",id:"nav-series",onClick:this.handleClick},e.createElement("i",{className:"bi bi-calendar-range-fill"}),e.createElement("span",null,"Series")),e.createElement("li",{className:"nav-link nav-logout",id:"nav-logout",onClick:this.handleClick},e.createElement("i",{className:"bi bi-box-arrow-left"}),e.createElement("span",null,"Logout"))))}}const c=a("#app")[0];t.render(e.createElement(l,null),c)})();